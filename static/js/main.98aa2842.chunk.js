(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/default.ace320ea.png"},17:function(e,t,a){e.exports=a.p+"static/media/logo.b909e3c1.png"},18:function(e,t,a){e.exports=a.p+"static/media/Angelo.7f91d966.jpg"},20:function(e,t,a){e.exports=a.p+"static/media/audio-spectrum.01c8c17a.gif"},33:function(e,t,a){e.exports=a(60)},38:function(e,t,a){},40:function(e,t,a){},43:function(e,t,a){},47:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(27),c=a.n(r),l=(a(38),a(2)),o=a(3),m=a(6),s=a(4),d=a(5),u=a(9),p=a(11),g=a(28),h=(a(40),a(43),a(29)),E=a(8),f=a(17),y=a.n(f),b=a(18),v=a.n(b),j=(a(47),a(19));a(61),a(53);j.initializeApp({apiKey:"AIzaSyAjKp_f5F1Tp22oJGQscVHQ6YYgXQH02VE",authDomain:"anime-sama-radio.firebaseapp.com",databaseURL:"https://anime-sama-radio.firebaseio.com",projectId:"anime-sama-radio",storageBucket:"anime-sama-radio.appspot.com",messagingSenderId:"709190102912"});var O=j,N=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"modal"},i.a.createElement("div",{className:"modal-wrapper",style:{transform:this.props.show?"translateY(0vh)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h3",null,this.props.modalType," Canci\xf3n"),i.a.createElement("span",{className:"close-modal-btn",onClick:this.props.close},"\xd7")),i.a.createElement("div",{className:"modal-body"},this.props.formType),i.a.createElement("div",{className:"modal-footer"})))}}]),t}(n.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("header",{className:"App-header"},i.a.createElement("figure",null,i.a.createElement("img",{src:y.a,className:"App-logo",alt:"logo"}),i.a.createElement("figcaption",null,"Anime Sama Radio")),i.a.createElement("nav",null,i.a.createElement("ul",null,i.a.createElement("a",{target:"_blank",className:"App-link",href:"https://discord.gg/gTPkK3g"},i.a.createElement(E.a,{icon:["fab","discord"]})),i.a.createElement("a",{target:"_blank",className:"App-link",href:"https://www.twitch.tv/mirainosoramusic"},i.a.createElement(E.a,{icon:["fab","twitch"]})),i.a.createElement("a",{target:"_blank",className:"App-link",href:"https://www.youtube.com/c/animesamadesu"},i.a.createElement(E.a,{icon:["fab","youtube"]})))))}}]),t}(n.Component),w=a(7),A=(a(10),a(20)),S=a.n(A),I=(n.Component,function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).loadData=e.loadData.bind(Object(w.a)(Object(w.a)(e))),e.state={songNow:[],songNext:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"toogleStream",value:function(){for(var e=document.getElementsByClassName("App-streaming-body-player"),t=0;t<e.length;t++)e[t].classList.toggle("appear-node")}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this,t=[];O.database().ref("songs/").orderByChild("inList").equalTo(!0).on("value",function(a){t=[],a.forEach(function(e){var a=e.val();t.push({anime:a.name,type:"".concat(a.type," ").concat(a.number),image:a.image,date:a.date})}),t.sort(function(e,t){return new Date(e.date)-new Date(t.date)}),e.setState({songNow:t[0],songNext:t[1]}),console.log(e.state.songNow,e.state.songNext)})}},{key:"render",value:function(){var e=this,t=this.state.songNow;return t?i.a.createElement("section",{className:"App-streaming"},i.a.createElement("div",{className:"App-streaming-header"},i.a.createElement("div",{className:"App-streaming-header-item Anime-component"},i.a.createElement("span",{className:"now-listening-tag"},"Ahora est\xe1s escuchando:"),i.a.createElement("img",{src:t.image}),i.a.createElement("p",null,i.a.createElement("h4",null,t.anime),i.a.createElement("span",null,t.type," ",t.number))),i.a.createElement("a",{className:"App-streaming-header-switcher App-link",onClick:function(t){e.toogleStream()}},i.a.createElement(E.a,{icon:"exchange-alt"}))),i.a.createElement("div",{className:"App-streaming-body"},i.a.createElement("div",{className:"App-streaming-body-player"},i.a.createElement("iframe",{src:"https://player.twitch.tv/?channel=mirainosoramusic",frameborder:"0",allowfullscreen:"true",scrolling:"no",height:"440",width:"100%"})),i.a.createElement("div",{style:{backgroundImage:"url(".concat(t.image,")")},className:"App-streaming-body-audio"},i.a.createElement("div",{className:"App-streaming-body-audio-content"},i.a.createElement("img",{src:S.a}),i.a.createElement("p",null,i.a.createElement("h2",null,t.anime),i.a.createElement("span",null,t.type," ",t.number)))))):i.a.createElement("section",{className:"App-streaming"},i.a.createElement("div",{className:"App-streaming-header"},i.a.createElement("div",{className:"App-streaming-header-item Anime-component"},i.a.createElement("p",null,"No hay canciones en lista")),i.a.createElement("a",{className:"App-streaming-header-switcher App-link",onClick:this.toogleStream()},i.a.createElement(E.a,{icon:"exchange-alt"}))),i.a.createElement("div",{className:"App-streaming-body"},i.a.createElement("div",{className:"App-streaming-body-player"},i.a.createElement("iframe",{src:"https://player.twitch.tv/?channel=mirainosoramusic",frameborder:"0",allowfullscreen:"true",scrolling:"no",height:"440",width:"100%"})),i.a.createElement("div",{className:"App-streaming-body-audio"},i.a.createElement("div",{className:"App-streaming-body-audio-content"},i.a.createElement("img",{src:S.a}),i.a.createElement("p",null,i.a.createElement("h2",null,"Anime Sama Radio"),i.a.createElement("span",null,"La mejor m\xfasica anime solo aqu\xed"))))))}}]),t}(n.Component)),C=(a(57),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).removeSongFromList=e.removeSongFromList.bind(Object(w.a)(Object(w.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"removeSongFromList",value:function(e){O.database().ref("songs/"+e).update({inList:!1,date:Date.now()})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Anime-component "+(this.props.songInList?"song-in-list":"song-not-in-list")},i.a.createElement("div",{className:"Anime-component-body"},i.a.createElement("img",{src:this.props.imageSrc}),i.a.createElement("p",null,i.a.createElement("h4",null,this.props.animeName),i.a.createElement("span",null,this.props.songName))),i.a.createElement("button",{onClick:function(t){e.removeSongFromList(e.props.songID)}},i.a.createElement(E.a,{icon:"times-circle"})))}}]),t}(n.Component)),B=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).loadData=e.loadData.bind(Object(w.a)(Object(w.a)(e))),e.state={songs:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this,t=[];O.database().ref("songs/").orderByChild("inList").equalTo(!0).on("value",function(a){t=[],a.forEach(function(e){var a=e.val(),n=e.key;console.log(n),t.push({id:n,anime:a.name,type:"".concat(a.type," ").concat(a.number),image:a.image,date:a.date})}),t.sort(function(e,t){return new Date(e.date)-new Date(t.date)}),e.setState({songs:t})})}},{key:"render",value:function(){return i.a.createElement("section",{className:"App-list"},i.a.createElement("div",{className:"App-list-header"},i.a.createElement("a",null,"En cola"),i.a.createElement("a",null,"Sugeridos"),i.a.createElement("a",null,"Reproducidos")),i.a.createElement("div",{id:"container",className:"container App-list-body"},this.state.songs.map(function(e,t){return e?i.a.createElement(C,{key:t,songID:e.id,imageSrc:e.image,animeName:e.anime,songName:e.type}):"No hay canciones en lista"})))}}]),t}(n.Component),x=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("section",{className:"App-chat"},i.a.createElement("iframe",{src:"https://www.twitch.tv/embed/mirainosoramusic/chat?darkpopout",frameborder:"0",scrolling:"no",height:"500",width:"100%"}))}}]),t}(n.Component),T=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).handleSubmit=function(e){e.preventDefault(),e.stopPropagation()},e.searchSong=e.searchSong.bind(Object(w.a)(Object(w.a)(e))),e.getSongInfo=e.getSongInfo.bind(Object(w.a)(Object(w.a)(e))),e.getInputValue=e.getInputValue.bind(Object(w.a)(Object(w.a)(e))),e.state={songs:[],inputValue:""},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getInputValue",value:function(e){this.setState({inputValue:e.target.value}),this.searchSong(e)}},{key:"searchSong",value:function(e){var t=this,a=[],n=this.state.inputValue;e&&O.database().ref("songs/").orderByChild("name").startAt(n).limitToFirst(10).on("value",function(e){a=[],e.forEach(function(e){var t=e.val(),n=e.key;a.push({id:n,anime:t.name,type:"".concat(t.type," ").concat(t.number),image:t.image,date:t.date,inList:t.inList})}),t.setState({songs:a})})}},{key:"addSongToList",value:function(e){O.database().ref("songs/"+e).update({inList:!0,date:Date.now()})}},{key:"getSongInfo",value:function(e,t){O.database().ref("songs/"+e).once("value",function(e){var a=e.key,n=e.val();"Editar"==t&&(document.getElementById("create-anime-text").value=n.name,document.getElementById("create-anime-select").value=n.type,document.getElementById("create-anime-number").value=n.number),"Eliminar"==t&&(document.getElementById("create-anime-text").textContent=n.name,document.getElementById("create-anime-type").textContent=n.type,document.getElementById("create-anime-number").textContent=" "+n.number),document.getElementById("create-anime-thumbnail").src=n.image,document.getElementById("create-anime-form").style.display="flex",document.getElementById("App-search").style.display="none",document.getElementById("create-anime-hidden").value=a})}},{key:"render",value:function(){var e=this,t="",a={display:"none",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"3rem",fontWeight:100};return console.log(this.state.songs[0],this.state.songs[1]),void 0==this.state.songs[0]?(t="Las mejores canciones anime en un solo lugar",a.display="flex"):(t="",a.display="none"),i.a.createElement("section",{id:"App-search",className:"App-search"},i.a.createElement("div",{className:"App-search-header"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{id:"search-song",onChange:function(t){return e.getInputValue(t)},type:"text",placeholder:this.props.fromModalType?"Buscar canci\xf3n...":"Pide una canci\xf3n..."}))),i.a.createElement("div",{id:"container2",className:"App-search-body container"},this.state.songs.map(function(t,a){return i.a.createElement("div",{onClick:function(a){e.props.fromModalType?e.getSongInfo(t.id,e.props.fromModalType):e.addSongToList(t.id)}},i.a.createElement(C,{songInList:t.inList,key:a,imageSrc:t.image,animeName:t.anime,songName:t.type}))}),i.a.createElement("div",{className:"App-search-message",style:a},i.a.createElement("p",null,t),i.a.createElement(E.a,{icon:"headphones-alt"}))))}}]),t}(n.Component),D=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).createSong=e.createSong.bind(Object(w.a)(Object(w.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"createSong",value:function(){var e=O.database().ref().child("songs"),t=O.storage().ref().child("img"),a=document.getElementById("create-anime-text").value,n=document.getElementById("create-anime-select").value,i=document.getElementById("create-anime-number").value,r=document.getElementById("create-anime-image"),c=document.getElementById("item-loader-counter"),l=document.getElementById("create-anime-form"),o=document.getElementById("item-loader");try{o.style.display="flex";var m=r.files[0],s=t.child(m.name).put(m);s.on("state_changed",function(e){var t=e.bytesTransferred/e.totalBytes*100;c.innerText="Creando canci\xf3n...  "+t+"%"},function(e){o.style.display="none"},function(){s.snapshot.ref.getDownloadURL().then(function(t){var r=e.push().key,c={name:a,type:n,number:i,image:t,inList:!0,date:new Date},m={};m["/".concat(r)]=c,e.update(m),l.reset(),o.style.display="none"})})}catch(d){o.style.display="none"}console.log("Canci\xf3n creada")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Create-anime-component"},i.a.createElement("form",{className:"Create-anime-form",id:"create-anime-form"},i.a.createElement("input",{id:"create-anime-text",type:"text",placeholder:"Nombre del Animu"}),i.a.createElement("select",{id:"create-anime-select"},i.a.createElement("option",null,"Opening"),i.a.createElement("option",null,"Ending")),i.a.createElement("input",{id:"create-anime-number",type:"number",placeholder:"#"}),i.a.createElement("input",{id:"create-anime-image",type:"file",accept:"image/x-png,image/gif,image/jpeg"}),i.a.createElement("div",{id:"item-loader"},i.a.createElement("span",{id:"item-loader-counter"})),i.a.createElement("input",{onClick:function(t){t.preventDefault(),e.createSong()},type:"submit",value:"Confirmar"})))}}]),t}(n.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"showEditImagePreview",value:function(e){document.getElementById("create-anime-thumbnail").src=URL.createObjectURL(e.target.files[0])}},{key:"EditSong",value:function(){var e=O.database().ref().child("songs"),t=O.storage().ref().child("img"),a=document.getElementById("create-anime-text").value,n=document.getElementById("create-anime-select").value,i=document.getElementById("create-anime-number").value,r=document.getElementById("create-anime-hidden").value,c=document.getElementById("create-anime-image"),l=document.getElementById("item-loader-counter"),o=document.getElementById("create-anime-form"),m=document.getElementById("item-loader");try{if(c.files.length)try{var s=c.files[0],d=t.child(s.name).put(s);d.on("state_changed",function(e){var t=e.bytesTransferred/e.totalBytes*100;l.innerText="Editando canci\xf3n...  "+t+"%"},function(e){m.style.display="none"},function(){d.snapshot.ref.getDownloadURL().then(function(t){var c={name:a,type:n,number:i,image:t},l={};l["/".concat(r)]=c,e.update(l),o.reset(),document.getElementById("create-anime-form").style.display="none",document.getElementById("App-search").style.display="initial"})})}catch(u){m.innerText="Error en subida de archivo"}else{try{O.database().ref().child("/songs/"+r).update({name:a,type:n,number:i})}catch(u){console.log("Hay un error")}m.style.display="flex",m.innerText="\u2713 Correci\xf3n exitosa"}}catch(u){m.innerText+="Oops, algo sali\xf3 mal. Int\xe9ntalo luego"}console.log("Canci\xf3n editada")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Edit-component",className:"Create-anime-component"},i.a.createElement(T,{fromModalType:"Editar"}),i.a.createElement("form",{className:"Create-anime-form",id:"create-anime-form"},i.a.createElement("img",{id:"create-anime-thumbnail"}),i.a.createElement("label",{for:"create-anime-image"},"Editar imagen"),i.a.createElement("input",{onChange:function(t){e.showEditImagePreview(t)},id:"create-anime-image",type:"file",accept:"image/x-png,image/gif,image/jpeg"}),i.a.createElement("input",{id:"create-anime-text",type:"text",placeholder:"Nombre del Animu"}),i.a.createElement("select",{id:"create-anime-select"},i.a.createElement("option",null,"Opening"),i.a.createElement("option",null,"Ending")),i.a.createElement("input",{id:"create-anime-number",type:"number",placeholder:"#"}),i.a.createElement("input",{id:"create-anime-hidden",type:"hidden"}),i.a.createElement("input",{onClick:function(t){t.preventDefault(),e.EditSong()},type:"submit",value:"Confirmar"}),i.a.createElement("div",{id:"item-loader"},i.a.createElement("span",{id:"item-loader-counter"}))))}}]),t}(n.Component),M=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"deleteSong",value:function(){var e=document.getElementById("item-loader"),t=document.getElementById("create-anime-hidden").value;O.database().ref().child("/songs/"+t).remove(),e.style.display="flex",e.innerText="\u2713 Canci\xf3n eliminada con \xe9xito"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Edit-component",className:"Create-anime-component"},i.a.createElement(T,{fromModalType:"Eliminar"}),i.a.createElement("form",{className:"Create-anime-form",id:"create-anime-form"},i.a.createElement("div",{id:"create-anime-component-item"},i.a.createElement("p",{id:"delete-question"},"\xbfSeguro que quieres borrar est\xe1 canci\xf3n?"),i.a.createElement("img",{id:"create-anime-thumbnail"}),i.a.createElement("div",null,i.a.createElement("p",{id:"create-anime-text"}),i.a.createElement("span",{id:"create-anime-type"}),i.a.createElement("span",{id:"create-anime-number"}))),i.a.createElement("input",{id:"create-anime-hidden",type:"hidden"}),i.a.createElement("div",{id:"create-anime-form-buttons"},i.a.createElement("input",{type:"button",value:"Ahora no, joven"}),i.a.createElement("input",{onClick:function(t){t.preventDefault(),e.deleteSong()},type:"submit",value:"S\xed papu"})),i.a.createElement("div",{id:"item-loader"},i.a.createElement("span",{id:"item-loader-counter"}))))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(s.a)(t).call(this))).openModalHandler=function(){e.setState({isShowing:!0}),document.body.style.overflow="hidden";for(var t=document.getElementsByClassName("modal"),a=0;a<t.length;a++)t[a].style.display="inherit"},e.closeModalHandler=function(){e.setState({isShowing:!1});for(var t=document.getElementsByClassName("modal"),a=0;a<t.length;a++)t[a].style.display="none";document.body.style.overflow="initial",document.getElementById("create-anime-form").style.display="none",document.getElementById("App-search").style.display="block"},e.renderForm=e.renderForm.bind(Object(w.a)(Object(w.a)(e))),e.state={isShowing:!1,modalType:""},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"renderForm",value:function(e){var t;switch(e){case"Crear":t=i.a.createElement(D,null);break;case"Editar":t=i.a.createElement(L,null);break;case"Eliminar":t=i.a.createElement(M,null);break;default:t=""}this.setState({formType:t,modalType:e},this.openModalHandler())}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App-header Admin-panel"},this.state.isShowing?i.a.createElement("div",{onClick:this.closeModalHandler,className:"back-drop"}):null,i.a.createElement("p",{className:"Admin-panel-title"},"Admin panel"),i.a.createElement("nav",null,i.a.createElement("ul",null,i.a.createElement("a",{className:"App-link open-modal-btn",onClick:function(t){e.renderForm("Crear")}},i.a.createElement(E.a,{icon:"plus-square"})),i.a.createElement("a",{className:"App-link open-modal-btn",onClick:function(t){e.renderForm("Editar")}},i.a.createElement(E.a,{icon:"edit"})),i.a.createElement("a",{className:"App-link open-modal-btn",onClick:function(t){e.renderForm("Eliminar")}},i.a.createElement(E.a,{icon:"trash-alt"}))),i.a.createElement("p",{className:"Admin-panel-name"},i.a.createElement("span",null,"Bienvenido, Anghelo")," ",i.a.createElement("img",{src:v.a,alt:"Usuario"}))),i.a.createElement(N,{formType:this.state.formType,modalType:this.state.modalType,show:this.state.isShowing,close:this.closeModalHandler},"Maybe aircrafts fly very high because they don't want to be seen in plane sight?"))}}]),t}(n.Component);u.b.add(p.e),u.b.add(p.d),u.b.add(p.f),u.b.add(p.a),u.b.add(p.b),u.b.add(g.a),u.b.add(p.c);var _=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){for(var e=document.getElementsByClassName("container"),t=0;t<e.length;t++)new h.a(e[t],{wheelSpeed:2,wheelPropagation:!1,minScrollbarLength:20})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(F,null),i.a.createElement(k,null),i.a.createElement("main",null,i.a.createElement(I,null),i.a.createElement(B,null),i.a.createElement(x,null),i.a.createElement(T,null)),i.a.createElement("footer",{className:"App-footer"},i.a.createElement("p",null,"Anime Sama \xa9 2018 - Amamos las buenas historias")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(31),V=a(15),H=a(32),q={songs:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=Object(H.a)({},e);switch(t.type){case"ADD_SONG_IN_LIST":case"REMOVE_SONG_FROM_LIST":a.songs=[]}return a},U=Object(V.b)(P);c.a.render(i.a.createElement(R.a,{store:U},i.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.98aa2842.chunk.js.map